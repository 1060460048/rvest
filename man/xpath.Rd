% Generated by roxygen2 (4.0.1): do not edit by hand
\name{xpath}
\alias{sel}
\alias{xpath}
\title{XPath & css selector helpers}
\usage{
xpath(x)

sel(x)
}
\arguments{
\item{x}{XPath or css selector.}
}
\description{
More easily extract pieces out of HTML documents using XPath and css
selectors. CSS selectors are particularly useful in conjunction with
\url{http://selectorgadget.com/}: it makes it easy to find exactly
which selector you should be using.
}
\section{CSS selector support}{


CSS selectors are translated to XPath selectors by the \pkg{selectr}
package, which is a port of the python \pkg{cssselect} library,
\url{https://pythonhosted.org/cssselect/}.

It implements the majority of CSS3 selectors, as described in
\url{http://www.w3.org/TR/2011/REC-css3-selectors-20110929/}. The
exceptions are listed below:

\itemize{
\item Pseudo selectors that require interactivity are ignored:
  \code{:hover}, \code{:active}, \code{:focus}, \code{:target},
  \code{:visited}
\item The following pseudo classes don't work with the wild card element, *:
  \code{*:first-of-type}, \code{*:last-of-type}, \code{*:nth-of-type},
  \code{*:nth-last-of-type}, \code{*:only-of-type}
\item It supports \code{:contains(text)}
\item You can use !=, \code{[foo!=bar]} is the same as \code{:not([foo=bar])}
\item \code{:not()} accepts a sequence of simple selectors, not just single
  simple selector.
}
}
\examples{
# CSS selectors ----------------------------------------------
library(httr)
url <- "http://www.boxofficemojo.com/movies/?id=ateam.htm"
html <- content(GET(url), "parsed")
html[sel("center")]
html[sel("center font")]
html[sel("center font b")]

# You can also chain subsetting:
html[sel("center")][sel("td")]
html[sel("center")][sel("font")]
html[sel("table")][[1]][sel("img")]

# Find all images contained in the first two tables
html[sel("table")][1:2][sel("img")]

# XPath selectors ---------------------------------------------
# chaining with XPath is a little trickier - you may need to vary
# the prefix you're using - // always selects from the root noot
# regardless of where you currently are in the doc
boxoffice <- html[xpath("//center//font//b")]
boxoffice[xpath("//b")]
}

